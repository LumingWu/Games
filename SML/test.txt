total_fun(4, 5, 2, [(1,1), (2,2), (3,4), (4,3)]);(* 32 *)
total_fun(4, 2, 1, [(1,1), (2,2), (3,4), (4,3)]);(* 14 *)
total_fun(4, 5, 2, [(1,4), (2,1), (3,2), (4,3)]);(* 35 *)
total_fun(4, 5, 2, [(1,4), (2,~1), (3,~2), (4,3)]);(* 29 *)
total_fun(5, 3, 2, [(1,4), (2,1), (3,~2), (4,3), (5,4)]);(* 30 *)
total_fun(4, 3, 2, [(1,~3), (2,~1), (3,~3), (4,~3)]);(* -10 *)
total_fun(4, 3, 3, [(1,~1), (2,~3), (3,~1), (4,~2)]);(* -7 *)